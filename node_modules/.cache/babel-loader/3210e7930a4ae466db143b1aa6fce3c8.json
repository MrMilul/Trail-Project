{"ast":null,"code":"import axios from 'axios';\nimport { ITINERARY_REQUEST, ITINERARY_REQUEST_SUCCESS, ITINERARY_REQUEST_FAIL } from '../types/ItinerariesTypes';\nexport const getItinerary = values => async dispatch => {\n  dispatch({\n    type: ITINERARY_REQUEST\n  });\n\n  try {\n    const {\n      data\n    } = await axios.post(\"https://api.digitransit.fi/routing/v1/routers/finland/index/graphql\", {\n      query: `{\n                  plan(\n                    fromPlace: \"${values.originLatLon.name}, ${values.originLatLon.locality}::${values.originLatLon.laoriginLatLant},${vslues.originLatLan.lon}\",\n                    toPlace: \"${values.originLatLon.name}, ${values.originLatLon.locality}::${values.originLatLon.laoriginLatLant},${vslues.originLatLan.lon}\",\n                    date: \"${values.departureDate}\",\n                    time: \"${values.departureTime}\",\n                    numItineraries: 5,\n                    transportModes: [{mode: BUS}, {mode: RAIL}, {mode:TRAM}, {mode: FERRY}, {mode:WALK}]\n                    walkReluctance: 2.1,\n                    walkBoardCost: 300,\n                    minTransferTime: 600,\n                    walkSpeed: 1.7,\n                  ) {\n                    itineraries{\n                      walkDistance\n                      duration\n                      legs {\n                        mode\n                        startTime\n                        endTime\n                        from {\n                          lat\n                          lon\n                          name\n                          stop {\n                            code\n                            name\n                          }\n                        }\n                        to {\n                          lat\n                          lon\n                          name\n                          stop {\n                            code\n                            name\n                          }\n                        }\n                        trip {\n                          tripHeadsign\n                          routeShortName\n                        }\n                        distance\n                        legGeometry {\n                          length\n                          points\n                        }\n                      }\n                    }\n                  }\n                }`\n    });\n    dispatch({\n      type: ITINERARY_REQUEST_SUCCESS,\n      payload: data\n    });\n  } catch (error) {\n    dispatch({\n      type: ITINERARY_REQUEST_FAIL,\n      payload: error\n    });\n  }\n};","map":{"version":3,"sources":["/home/mrmilul/Documents/WebProg/trial assignment/trail/src/redux/actions/ItinerariesAction.js"],"names":["axios","ITINERARY_REQUEST","ITINERARY_REQUEST_SUCCESS","ITINERARY_REQUEST_FAIL","getItinerary","values","dispatch","type","data","post","query","originLatLon","name","locality","laoriginLatLant","vslues","originLatLan","lon","departureDate","departureTime","payload","error"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SACEC,iBADF,EAEEC,yBAFF,EAGEC,sBAHF,QAIO,2BAJP;AAOA,OAAO,MAAMC,YAAY,GAAIC,MAAD,IAAY,MAAOC,QAAP,IAAoB;AAC1DA,EAAAA,QAAQ,CAAC;AACPC,IAAAA,IAAI,EAAEN;AADC,GAAD,CAAR;;AAIA,MAAI;AACF,UAAM;AAAEO,MAAAA;AAAF,QAAW,MAAMR,KAAK,CAACS,IAAN,CAAW,qEAAX,EAGrB;AACEC,MAAAA,KAAK,EAAG;AAChB;AACA,kCAAkCL,MAAM,CAACM,YAAP,CAAoBC,IAAK,KAAIP,MAAM,CAACM,YAAP,CAAoBE,QAAS,KAAIR,MAAM,CAACM,YAAP,CAAoBG,eAAgB,IAAGC,MAAM,CAACC,YAAP,CAAoBC,GAAI;AAC/J,gCAAgCZ,MAAM,CAACM,YAAP,CAAoBC,IAAK,KAAIP,MAAM,CAACM,YAAP,CAAoBE,QAAS,KAAIR,MAAM,CAACM,YAAP,CAAoBG,eAAgB,IAAGC,MAAM,CAACC,YAAP,CAAoBC,GAAI;AAC7J,6BAA6BZ,MAAM,CAACa,aAAc;AAClD,6BAA6Bb,MAAM,CAACc,aAAc;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAnDM,KAHqB,CAAvB;AA0DAb,IAAAA,QAAQ,CAAC;AACPC,MAAAA,IAAI,EAAEL,yBADC;AAEPkB,MAAAA,OAAO,EAAEZ;AAFF,KAAD,CAAR;AAID,GA/DD,CA+DE,OAAOa,KAAP,EAAc;AACdf,IAAAA,QAAQ,CAAC;AACPC,MAAAA,IAAI,EAAEJ,sBADC;AAEPiB,MAAAA,OAAO,EAAEC;AAFF,KAAD,CAAR;AAID;AACF,CA1EM","sourcesContent":["import axios from 'axios'\nimport {\n  ITINERARY_REQUEST,\n  ITINERARY_REQUEST_SUCCESS,\n  ITINERARY_REQUEST_FAIL\n} from '../types/ItinerariesTypes'\n\n\nexport const getItinerary = (values) => async (dispatch) => {\n  dispatch({\n    type: ITINERARY_REQUEST\n  })\n\n  try {\n    const { data } = await axios.post(\"https://api.digitransit.fi/routing/v1/routers/finland/index/graphql\",\n\n\n      {\n        query: `{\n                  plan(\n                    fromPlace: \"${values.originLatLon.name}, ${values.originLatLon.locality}::${values.originLatLon.laoriginLatLant},${vslues.originLatLan.lon}\",\n                    toPlace: \"${values.originLatLon.name}, ${values.originLatLon.locality}::${values.originLatLon.laoriginLatLant},${vslues.originLatLan.lon}\",\n                    date: \"${values.departureDate}\",\n                    time: \"${values.departureTime}\",\n                    numItineraries: 5,\n                    transportModes: [{mode: BUS}, {mode: RAIL}, {mode:TRAM}, {mode: FERRY}, {mode:WALK}]\n                    walkReluctance: 2.1,\n                    walkBoardCost: 300,\n                    minTransferTime: 600,\n                    walkSpeed: 1.7,\n                  ) {\n                    itineraries{\n                      walkDistance\n                      duration\n                      legs {\n                        mode\n                        startTime\n                        endTime\n                        from {\n                          lat\n                          lon\n                          name\n                          stop {\n                            code\n                            name\n                          }\n                        }\n                        to {\n                          lat\n                          lon\n                          name\n                          stop {\n                            code\n                            name\n                          }\n                        }\n                        trip {\n                          tripHeadsign\n                          routeShortName\n                        }\n                        distance\n                        legGeometry {\n                          length\n                          points\n                        }\n                      }\n                    }\n                  }\n                }`\n      }\n    )\n\n    dispatch({\n      type: ITINERARY_REQUEST_SUCCESS,\n      payload: data\n    })\n  } catch (error) {\n    dispatch({\n      type: ITINERARY_REQUEST_FAIL,\n      payload: error\n    })\n  }\n}\n\n\n\n"]},"metadata":{},"sourceType":"module"}